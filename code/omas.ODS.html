
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>omas.ODS &#8212; OMAS</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img height=40, src="../_static/OMAS_logo.png">
          <!-- OMAS-->
        </a>
        <!-- <span class="navbar-text navbar-version pull-left"><b></b></span> -->
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../how.html">Concept</a></li>
                <li><a href="../auto_examples/index.html">Examples</a></li>
                <li><a href="../install.html">Installation</a></li>
                <li><a href="../iter.html">ITER</a></li>
                <li><a href="../omfit.html">OMFIT</a></li>
                <li><a href="../schema.html">Data schema</a></li>
                <li><a href="../code.html">API</a></li>
            
            
              
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">In this page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">omas.ODS</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>
           <!-- 
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
           -->
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="omas-ods">
<h1>omas.ODS<a class="headerlink" href="#omas-ods" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="omas.ODS">
<em class="property">class </em><code class="descclassname">omas.</code><code class="descname">ODS</code><span class="sig-paren">(</span><em>imas_version=u'3.25.0'</em>, <em>consistency_check=True</em>, <em>dynamic_path_creation=True</em>, <em>location=u''</em>, <em>cocos=11</em>, <em>cocosio=11</em>, <em>coordsio={}</em>, <em>unitsio=False</em>, <em>structure=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS" title="Permalink to this definition">¶</a></dt>
<dd><p>OMAS Data Structure class</p>
<dl class="method">
<dt id="omas.ODS.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>imas_version=u'3.25.0'</em>, <em>consistency_check=True</em>, <em>dynamic_path_creation=True</em>, <em>location=u''</em>, <em>cocos=11</em>, <em>cocosio=11</em>, <em>coordsio={}</em>, <em>unitsio=False</em>, <em>structure=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>imas_version</strong> – IMAS version to use as a constrain for the nodes names</li>
<li><strong>consistency_check</strong> – whether to enforce consistency with IMAS schema</li>
<li><strong>dynamic_path_creation</strong> – whether to dynamically create the path when setting an item
* False: raise an error when trying to access a structure element that does not exists
* True (default): arrays of structures can be incrementally extended by accessing at the next element in the array
* ‘dynamic_array_structures’: arrays of structures can be dynamically extended</li>
<li><strong>location</strong> – string with location of this object relative to IMAS schema in ODS path format</li>
<li><strong>cocos</strong> – internal COCOS representation (this can only be set when the object is created)</li>
<li><strong>cocosio</strong> – COCOS representation of the data that is read/written from/to the ODS</li>
<li><strong>coordsio</strong> – ODS with coordinates to use for the data that is read/written from/to the ODS</li>
<li><strong>unitsio</strong> – ODS will return data with units if True</li>
<li><strong>structure</strong> – IMAS schema to use</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.__init__" title="omas.ODS.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([imas_version,&nbsp;consistency_check,&nbsp;…])</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param imas_version:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">IMAS version to use as a constrain for the nodes names</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.clear" title="omas.ODS.clear"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code></a>()</td>
<td>remove data from a branch</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.codeparams2dict" title="omas.ODS.codeparams2dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">codeparams2dict</span></code></a>()</td>
<td>Convert code.parameters to a CodeParameters dictionary object</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.codeparams2xml" title="omas.ODS.codeparams2xml"><code class="xref py py-obj docutils literal notranslate"><span class="pre">codeparams2xml</span></code></a>()</td>
<td>Convert code.parameters to a XML string</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.coordinates" title="omas.ODS.coordinates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coordinates</span></code></a>(key)</td>
<td>return dictionary with coordinates of a given ODS location</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.copy" title="omas.ODS.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>()</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">copy.deepcopy of current ODS object</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.copy_attrs_from" title="omas.ODS.copy_attrs_from"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy_attrs_from</span></code></a>(ods)</td>
<td>copy omas_ods_attrs [‘_consistency_check’,’_dynamic_path_creation’,’imas_version’,’location’,’structure’,’_cocos’,’_cocosio’,’_coordsio’] attributes from input ods</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.dataset" title="omas.ODS.dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataset</span></code></a>([homogeneous])</td>
<td>Return xarray.Dataset representation of a whole ODS</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.diff" title="omas.ODS.diff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diff</span></code></a>(ods[,&nbsp;ignore_type,&nbsp;ignore_empty])</td>
<td>return differences between this ODS and the one passed</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.flat" title="omas.ODS.flat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flat</span></code></a>()</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">flat dictionary representation of the data</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.from_structure" title="omas.ODS.from_structure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_structure</span></code></a>(structure)</td>
<td>Generate an ODS starting from a hierarchical structure made of dictionaries and lists</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.full_paths" title="omas.ODS.full_paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">full_paths</span></code></a>()</td>
<td>Traverse the ods and return paths from root of ODS that have data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.get" title="omas.ODS.get"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code></a>(key[,&nbsp;default])</td>
<td>Check if key is present and if not return default value without creating value in omas data structure</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.getraw" title="omas.ODS.getraw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getraw</span></code></a>(key)</td>
<td>Method to access data stored in ODS with no processing of the key, and it is thus faster than the ODS.__getitem__(key) Effectively behaves like a pure Python dictionary/list __getitem__.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.homogeneous_time" title="omas.ODS.homogeneous_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">homogeneous_time</span></code></a>([key,&nbsp;default])</td>
<td>Dynamically evaluate whether time is homogeneous or not NOTE: this method does not read ods[‘ids_properties.homogeneous_time’] instead it uses the time info to figure it out</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">iteritems</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">iterkeys</span></code>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">itervalues</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.keys" title="omas.ODS.keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.list_coordinates" title="omas.ODS.list_coordinates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list_coordinates</span></code></a>()</td>
<td>return dictionary with coordinates in a given ODS</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.load" title="omas.ODS.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(*args,&nbsp;**kw)</td>
<td>Load OMAS data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.paths" title="omas.ODS.paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">paths</span></code></a>(**kw)</td>
<td>Traverse the ods and return paths that have data</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.physics_core_profiles_consistent" title="omas.ODS.physics_core_profiles_consistent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physics_core_profiles_consistent</span></code></a>([update,&nbsp;…])</td>
<td>Calls all core_profiles consistency functions including</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.physics_core_profiles_currents" title="omas.ODS.physics_core_profiles_currents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physics_core_profiles_currents</span></code></a>(time_index,&nbsp;…)</td>
<td>This function sets currents in ods[‘core_profiles’][‘profiles_1d’][time_index]</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.physics_core_profiles_densities" title="omas.ODS.physics_core_profiles_densities"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physics_core_profiles_densities</span></code></a>([update])</td>
<td>Density, density_thermal, and density_fast for electrons and ions are filled and are self-consistent</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.physics_core_profiles_pressures" title="omas.ODS.physics_core_profiles_pressures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physics_core_profiles_pressures</span></code></a>([update])</td>
<td>Calculates individual ions pressures</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.physics_core_profiles_zeff" title="omas.ODS.physics_core_profiles_zeff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physics_core_profiles_zeff</span></code></a>([update,&nbsp;…])</td>
<td>calculates effective charge</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.physics_current_from_eq" title="omas.ODS.physics_current_from_eq"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physics_current_from_eq</span></code></a>(time_index)</td>
<td>This function sets the currents in ods[‘core_profiles’][‘profiles_1d’][time_index] using ods[‘equilibrium’][‘time_slice’][time_index][‘profiles_1d’][‘j_tor’]</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.physics_equilibrium_consistent" title="omas.ODS.physics_equilibrium_consistent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physics_equilibrium_consistent</span></code></a>()</td>
<td>Calculate missing derived quantities for equilibrium IDS</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.physics_equilibrium_transpose_RZ" title="omas.ODS.physics_equilibrium_transpose_RZ"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physics_equilibrium_transpose_RZ</span></code></a>([flip_dims])</td>
<td>Transpose 2D grid values for RZ grids under equilibrium.time_slice.:.profiles_2d.:.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.physics_wall_add" title="omas.ODS.physics_wall_add"><code class="xref py py-obj docutils literal notranslate"><span class="pre">physics_wall_add</span></code></a>([machine])</td>
<td>Add wall information to the ODS</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.plot_bolometer_overlay" title="omas.ODS.plot_bolometer_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_bolometer_overlay</span></code></a>([ax,&nbsp;…])</td>
<td>Overlays bolometer chords</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.plot_charge_exchange_overlay" title="omas.ODS.plot_charge_exchange_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_charge_exchange_overlay</span></code></a>([ax,&nbsp;which_pos])</td>
<td>Overlays Charge Exchange Recombination (CER) spectroscopy channel locations</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.plot_core_profiles_pressures" title="omas.ODS.plot_core_profiles_pressures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_core_profiles_pressures</span></code></a>([time_index,&nbsp;ax])</td>
<td>Plot pressures in <cite>ods[‘core_profiles’][‘profiles_1d’][time_index]</cite></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.plot_core_profiles_summary" title="omas.ODS.plot_core_profiles_summary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_core_profiles_summary</span></code></a>([time_index,&nbsp;…])</td>
<td>Plot densities and temperature profiles for electrons and all ion species as per <cite>ods[‘core_profiles’][‘profiles_1d’][time_index]</cite></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.plot_equilibrium_CX" title="omas.ODS.plot_equilibrium_CX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_equilibrium_CX</span></code></a>([time_index,&nbsp;levels,&nbsp;ax])</td>
<td>Plot equilibrium cross-section as per <cite>ods[‘equilibrium’][‘time_slice’][time_index]</cite></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.plot_equilibrium_summary" title="omas.ODS.plot_equilibrium_summary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_equilibrium_summary</span></code></a>([time_index,&nbsp;fig])</td>
<td>Plot equilibrium cross-section and P, q, P’, FF’ profiles as per <cite>ods[‘equilibrium’][‘time_slice’][time_index]</cite></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.plot_gas_injection_overlay" title="omas.ODS.plot_gas_injection_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_gas_injection_overlay</span></code></a>([ax,&nbsp;…])</td>
<td>Plots overlays of gas injectors</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.plot_interferometer_overlay" title="omas.ODS.plot_interferometer_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_interferometer_overlay</span></code></a>([ax])</td>
<td>Plots overlays of interferometer chords.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.plot_magnetics_overlay" title="omas.ODS.plot_magnetics_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_magnetics_overlay</span></code></a>([ax,&nbsp;…])</td>
<td>Plots overlays of magnetics: B_pol probes and flux loops</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_nbi_summary</span></code>([ax])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.plot_overlay" title="omas.ODS.plot_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_overlay</span></code></a>([ax,&nbsp;allow_autoscale,&nbsp;…])</td>
<td>Plots overlays of hardware/diagnostic locations on a tokamak cross section plot</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.plot_pf_active_overlay" title="omas.ODS.plot_pf_active_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_pf_active_overlay</span></code></a>([ax])</td>
<td>Plots overlays of active PF coils.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.plot_quantity" title="omas.ODS.plot_quantity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_quantity</span></code></a>(key[,&nbsp;yname,&nbsp;xname,&nbsp;yunits,&nbsp;…])</td>
<td>Provides convenient way to plot 1D quantities in ODS</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.plot_summary" title="omas.ODS.plot_summary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_summary</span></code></a>([fig,&nbsp;quantity])</td>
<td>Plot summary time traces.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.plot_thomson_scattering_overlay" title="omas.ODS.plot_thomson_scattering_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_thomson_scattering_overlay</span></code></a>([ax])</td>
<td>Overlays Thomson channel locations</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code>(k[,d])</td>
<td>If key is not found, d is returned if given, otherwise KeyError is raised.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">popitem</span></code>()</td>
<td>as a 2-tuple; but raise KeyError if D is empty.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.pretty_paths" title="omas.ODS.pretty_paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pretty_paths</span></code></a>()</td>
<td>Traverse the ods and return paths that have data formatted nicely</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.prune" title="omas.ODS.prune"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prune</span></code></a>()</td>
<td>Prune ODS branches that are leafless</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.sample_bolometer" title="omas.ODS.sample_bolometer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_bolometer</span></code></a>([nc])</td>
<td>Adds some FAKE bolometer chord locations so that the overlay plot will work in tests.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.sample_charge_exchange" title="omas.ODS.sample_charge_exchange"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_charge_exchange</span></code></a>([nc])</td>
<td>Adds some FAKE CER channel locations so that the overlay plot will work in tests.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.sample_core_profiles" title="omas.ODS.sample_core_profiles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_core_profiles</span></code></a>([time_index,&nbsp;nx,&nbsp;…])</td>
<td>Add sample core_profiles data</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_dataset_description</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.sample_equilibrium" title="omas.ODS.sample_equilibrium"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_equilibrium</span></code></a>([time_index,&nbsp;…])</td>
<td>Add sample equilibrium data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.sample_gas_injection" title="omas.ODS.sample_gas_injection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_gas_injection</span></code></a>()</td>
<td>Adds some FAKE gas injection locations so that the overlay plot will work in tests.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.sample_interferometer" title="omas.ODS.sample_interferometer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_interferometer</span></code></a>()</td>
<td>Adds some FAKE interferometer locations so that the overlay plot will work in tests.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.sample_magnetics" title="omas.ODS.sample_magnetics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_magnetics</span></code></a>()</td>
<td>Adds some FAKE magnetic probe locations so that the overlay plot will work in tests.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.sample_pf_active" title="omas.ODS.sample_pf_active"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_pf_active</span></code></a>([nc_weird,&nbsp;nc_undefined])</td>
<td>Adds some FAKE active PF coil locations so that the overlay plot will work in tests.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.sample_thomson_scattering" title="omas.ODS.sample_thomson_scattering"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_thomson_scattering</span></code></a>([nc])</td>
<td>Adds some FAKE Thomson scattering channel locations so that the overlay plot will work in tests.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.satisfy_imas_requirements" title="omas.ODS.satisfy_imas_requirements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">satisfy_imas_requirements</span></code></a>([attempt_fix,&nbsp;…])</td>
<td>Assign .time and .ids_properties.homogeneous_time info for top-level structures since these are required for writing an IDS to IMAS</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.save" title="omas.ODS.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(*args,&nbsp;**kw)</td>
<td>Save OMAS data</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.search_paths" title="omas.ODS.search_paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_paths</span></code></a>(search_pattern[,&nbsp;n,&nbsp;…])</td>
<td>Find ODS locations that match a pattern</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.set_child_locations" title="omas.ODS.set_child_locations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_child_locations</span></code></a>()</td>
<td>traverse ODSs and set .location attribute</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.set_time_array" title="omas.ODS.set_time_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_time_array</span></code></a>(key,&nbsp;time_index,&nbsp;value)</td>
<td>Convenience function for setting time dependent arrays</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.setdefault" title="omas.ODS.setdefault"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setdefault</span></code></a>(key[,&nbsp;value])</td>
<td>Set value if key is not present</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.setraw" title="omas.ODS.setraw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setraw</span></code></a>(key,&nbsp;value)</td>
<td>Method to assign data to an ODS with no processing of the key, and it is thus faster than the ODS.__setitem__(key, value) Effectively behaves like a pure Python dictionary/list __setitem__.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.slice_at_time" title="omas.ODS.slice_at_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">slice_at_time</span></code></a>([time,&nbsp;time_index])</td>
<td>method for selecting a time slice from an time-dependent ODS (NOTE: this method operates in place)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.time" title="omas.ODS.time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time</span></code></a>([key,&nbsp;extra_info,&nbsp;skip])</td>
<td>Return the time information for a given ODS location</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.update" title="omas.ODS.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a>(ods2)</td>
<td>Adds ods2’s key-values pairs to the ods</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.values" title="omas.ODS.values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.xarray" title="omas.ODS.xarray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xarray</span></code></a>(key)</td>
<td>Returns data of an ODS location and correspondnig coordinates as an xarray dataset Note that the Dataset and the DataArrays have their attributes set with the ODSs structure info</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.cocos" title="omas.ODS.cocos"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cocos</span></code></a></td>
<td>property that tells in what COCOS format the data is stored internally of the ODS (NOTE: this parameter can only be set when the object is created)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.cocosio" title="omas.ODS.cocosio"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cocosio</span></code></a></td>
<td>property that tells in what COCOS format the data will be input/output</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.consistency_check" title="omas.ODS.consistency_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">consistency_check</span></code></a></td>
<td>property that sets whether consistency with IMAS schema is enabled or not</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.coordsio" title="omas.ODS.coordsio"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coordsio</span></code></a></td>
<td>property that tells in what COCOS format the data will be input/output</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.dynamic_path_creation" title="omas.ODS.dynamic_path_creation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dynamic_path_creation</span></code></a></td>
<td>property that sets whether dynamic path creation is enabled or not</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#omas.ODS.ulocation" title="omas.ODS.ulocation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ulocation</span></code></a></td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">string with location of this object in universal ODS path format</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#omas.ODS.unitsio" title="omas.ODS.unitsio"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unitsio</span></code></a></td>
<td>property that if data should be returned with units or not</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="omas.ODS.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>remove data from a branch</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">current ODS object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="omas.ODS.cocos">
<code class="descname">cocos</code><a class="headerlink" href="#omas.ODS.cocos" title="Permalink to this definition">¶</a></dt>
<dd><p>property that tells in what COCOS format the data is stored internally of the ODS
(NOTE: this parameter can only be set when the object is created)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cocos value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="omas.ODS.cocosio">
<code class="descname">cocosio</code><a class="headerlink" href="#omas.ODS.cocosio" title="Permalink to this definition">¶</a></dt>
<dd><p>property that tells in what COCOS format the data will be input/output</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cocosio value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.codeparams2dict">
<code class="descname">codeparams2dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.codeparams2dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.codeparams2dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert code.parameters to a CodeParameters dictionary object</p>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.codeparams2xml">
<code class="descname">codeparams2xml</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.codeparams2xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.codeparams2xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert code.parameters to a XML string</p>
</dd></dl>

<dl class="attribute">
<dt id="omas.ODS.consistency_check">
<code class="descname">consistency_check</code><a class="headerlink" href="#omas.ODS.consistency_check" title="Permalink to this definition">¶</a></dt>
<dd><p>property that sets whether consistency with IMAS schema is enabled or not</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True/False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.coordinates">
<code class="descname">coordinates</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>return dictionary with coordinates of a given ODS location</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – ODS location to return the coordinates of
Note: both the key location and coordinates must have data</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">OrderedDict with coordinates of a given ODS location</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="omas.ODS.coordsio">
<code class="descname">coordsio</code><a class="headerlink" href="#omas.ODS.coordsio" title="Permalink to this definition">¶</a></dt>
<dd><p>property that tells in what COCOS format the data will be input/output</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">coordsio value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.copy" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">copy.deepcopy of current ODS object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.copy_attrs_from">
<code class="descname">copy_attrs_from</code><span class="sig-paren">(</span><em>ods</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.copy_attrs_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.copy_attrs_from" title="Permalink to this definition">¶</a></dt>
<dd><p>copy omas_ods_attrs [‘_consistency_check’,’_dynamic_path_creation’,’imas_version’,’location’,’structure’,’_cocos’,’_cocosio’,’_coordsio’] attributes from input ods</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ods</strong> – input ods</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">self</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.dataset">
<code class="descname">dataset</code><span class="sig-paren">(</span><em>homogeneous=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return xarray.Dataset representation of a whole ODS</p>
<p>Forming the N-D labeled arrays (tensors) that are at the base of xarrays,
requires that the number of elements in the arrays do not change across
the arrays of data structures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>homogeneous</strong> – <ul class="simple">
<li><dl class="first docutils">
<dt>False: flat representation of the ODS</dt>
<dd>(data is not collected across arrays of structures)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>’time’: collect arrays of structures only along the time dimension</dt>
<dd>(always valid for homogeneous_time=True)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>’full’: collect arrays of structures along all dimensions</dt>
<dd><dl class="first last docutils">
<dt>(may be valid in many situations, especially related to</dt>
<dd>simulation data with homogeneous_time=True and where
for example number of ions, sources, etc. do not vary)</dd>
</dl>
</dd>
</dl>
</li>
<li>None: smart setting, uses homogeneous=’time’ if homogeneous_time=True else False</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">xarray.Dataset</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.diff">
<code class="descname">diff</code><span class="sig-paren">(</span><em>ods</em>, <em>ignore_type=False</em>, <em>ignore_empty=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>return differences between this ODS and the one passed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – ODS to compare against</li>
<li><strong>ignore_type</strong> – ignore object type differences</li>
<li><strong>ignore_empty</strong> – ignore empty nodes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary with differences</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="omas.ODS.dynamic_path_creation">
<code class="descname">dynamic_path_creation</code><a class="headerlink" href="#omas.ODS.dynamic_path_creation" title="Permalink to this definition">¶</a></dt>
<dd><p>property that sets whether dynamic path creation is enabled or not</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True/False</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.flat">
<code class="descname">flat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.flat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.flat" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">flat dictionary representation of the data</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.from_structure">
<code class="descname">from_structure</code><span class="sig-paren">(</span><em>structure</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.from_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.from_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an ODS starting from a hierarchical structure made of dictionaries and lists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>structure</strong> – input structure</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">ODS</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.full_paths">
<code class="descname">full_paths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.full_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.full_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Traverse the ods and return paths from root of ODS that have data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of paths that have data</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if key is present and if not return default value without creating value in omas data structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – ods location</li>
<li><strong>default</strong> – default value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">return default if key is not found</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.getraw">
<code class="descname">getraw</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.getraw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.getraw" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to access data stored in ODS with no processing of the key, and it is thus faster than the ODS.__getitem__(key)
Effectively behaves like a pure Python dictionary/list __getitem__.
This method is mostly meant to be used in the inner workings of the ODS class.
NOTE: ODS.__getitem__(key, False) can be used to access items in the ODS with disabled cocos and coordinates processing but with support for different syntaxes to access data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – string or integer</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">ODS value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.homogeneous_time">
<code class="descname">homogeneous_time</code><span class="sig-paren">(</span><em>key=u''</em>, <em>default=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.homogeneous_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.homogeneous_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamically evaluate whether time is homogeneous or not
NOTE: this method does not read ods[‘ids_properties.homogeneous_time’] instead it uses the time info to figure it out</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>default</strong> – what to return in case no time basis is defined</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True/False or default value (True) if no time basis is defined</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list of D's keys<a class="reference internal" href="../_modules/omas/omas_core.html#ODS.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omas.ODS.list_coordinates">
<code class="descname">list_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.list_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.list_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>return dictionary with coordinates in a given ODS</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary with coordinates (keys are absolute location, values are relative locations)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load OMAS data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> – filename.XXX where the extension is used to select load format method (eg. ‘pkl’,’nc’,’h5’,’ds’)
set to <cite>imas</cite>, <cite>s3</cite>, <cite>hdc</cite>, <cite>mongo</cite> for save methods that do not have a filename with extension</li>
<li><strong>*args</strong> – extra arguments passed to load_omas_XXX() method</li>
<li><strong>**kw</strong> – extra keywords passed to load_omas_XXX() method</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ODS with loaded data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.paths">
<code class="descname">paths</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Traverse the ods and return paths that have data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of paths that have data</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.physics_core_profiles_consistent">
<code class="descname">physics_core_profiles_consistent</code><span class="sig-paren">(</span><em>update=True</em>, <em>use_electrons_density=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.physics_core_profiles_consistent" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Calls all core_profiles consistency functions including</dt>
<dd><ul class="first last simple">
<li>core_profiles_pressures</li>
<li>core_profiles_densities</li>
<li>core_profiles_zeff</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – input ods</li>
<li><strong>update</strong> – operate in place</li>
<li><strong>use_electrons_density</strong> – denominator is core_profiles.profiles_1d.:.electrons.density
instead of sum Z*n_i in Z_eff calculation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">updated ods</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.physics_core_profiles_currents">
<code class="descname">physics_core_profiles_currents</code><span class="sig-paren">(</span><em>time_index</em>, <em>rho_tor_norm</em>, <em>j_actuator=u'default'</em>, <em>j_bootstrap=u'default'</em>, <em>j_ohmic=u'default'</em>, <em>j_non_inductive=u'default'</em>, <em>j_total=u'default'</em>, <em>warn=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.physics_core_profiles_currents" title="Permalink to this definition">¶</a></dt>
<dd><p>This function sets currents in ods[‘core_profiles’][‘profiles_1d’][time_index]</p>
<p>If provided currents are inconsistent with each other or ods, ods is not updated and an error is thrown.</p>
<p>Updates integrated currents in ods[‘core_profiles’][‘global_quantities’]
(N.B.: <cite>equilibrium</cite> IDS is required for evaluating j_tor and integrated currents)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – ODS to update in-place</li>
<li><strong>time_index</strong> – ODS time index to updated</li>
<li><strong>rho_tor_norm</strong> – normalized rho grid upon which each j is given</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>For each j:</dt>
<dd><ul class="first last simple">
<li>ndarray: set in ods if consistent</li>
<li>‘default’: use value in ods if present, else set to None</li>
<li>None: try to calculate from currents; delete from ods if you can’t</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>j_actuator</strong> – Non-inductive, non-bootstrap current &lt;J.B&gt;/B0
N.B.: used for calculating other currents and consistency, but not set in ods</li>
<li><strong>j_bootstrap</strong> – Bootstrap component of &lt;J.B&gt;/B0</li>
<li><strong>j_ohmic</strong> – Ohmic component of &lt;J.B&gt;/B0</li>
<li><strong>j_non_inductive</strong> – Non-inductive component of &lt;J.B&gt;/B0
Consistency requires j_non_inductive = j_actuator + j_bootstrap, either
as explicitly provided or as computed from other components.</li>
<li><strong>j_total</strong> – Total &lt;J.B&gt;/B0
Consistency requires j_total = j_ohmic + j_non_inductive either as
explicitly provided or as computed from other components.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.physics_core_profiles_densities">
<code class="descname">physics_core_profiles_densities</code><span class="sig-paren">(</span><em>update=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.physics_core_profiles_densities" title="Permalink to this definition">¶</a></dt>
<dd><p>Density, density_thermal, and density_fast for electrons and ions are filled and are self-consistent</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – input ods</li>
<li><strong>update</strong> – operate in place</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">updated ods</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.physics_core_profiles_pressures">
<code class="descname">physics_core_profiles_pressures</code><span class="sig-paren">(</span><em>update=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.physics_core_profiles_pressures" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates individual ions pressures</p>
<blockquote>
<div><cite>core_profiles.profiles_1d.:.ion.:.pressure_thermal</cite> #Pressure (thermal) associated with random motion ~average((v-average(v))^2)
<cite>core_profiles.profiles_1d.:.ion.:.pressure</cite>         #Pressure (thermal+non-thermal)</div></blockquote>
<p>as well as total pressures</p>
<blockquote>
<div><cite>core_profiles.profiles_1d.:.pressure_thermal</cite>       #Thermal pressure (electrons+ions)
<cite>core_profiles.profiles_1d.:.pressure_ion_total</cite>     #Total (sum over ion species) thermal ion pressure
<cite>core_profiles.profiles_1d.:.pressure_perpendicular</cite> #Total perpendicular pressure (electrons+ions, thermal+non-thermal)
<cite>core_profiles.profiles_1d.:.pressure_parallel</cite>      #Total parallel pressure (electrons+ions, thermal+non-thermal)</div></blockquote>
<p>NOTE: the fast particles ion pressures are read, not set by this function:</p>
<blockquote>
<div><cite>core_profiles.profiles_1d.:.ion.:.pressure_fast_parallel</cite>      #Pressure (thermal) associated with random motion ~average((v-average(v))^2)
<cite>core_profiles.profiles_1d.:.ion.:.pressure_fast_perpendicular</cite> #Pressure (thermal+non-thermal)</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – input ods</li>
<li><strong>update</strong> – operate in place</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">updated ods</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.physics_core_profiles_zeff">
<code class="descname">physics_core_profiles_zeff</code><span class="sig-paren">(</span><em>update=True</em>, <em>use_electrons_density=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.physics_core_profiles_zeff" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates effective charge</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – input ods</li>
<li><strong>update</strong> – operate in place</li>
<li><strong>use_electrons_density</strong> – denominator core_profiles.profiles_1d.:.electrons.density
instead of sum Z*n_i</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">updated ods</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.physics_current_from_eq">
<code class="descname">physics_current_from_eq</code><span class="sig-paren">(</span><em>time_index</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.physics_current_from_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>This function sets the currents in ods[‘core_profiles’][‘profiles_1d’][time_index]
using ods[‘equilibrium’][‘time_slice’][time_index][‘profiles_1d’][‘j_tor’]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – ODS to update in-place</li>
<li><strong>time_index</strong> – ODS time index to updated</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.physics_equilibrium_consistent">
<code class="descname">physics_equilibrium_consistent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.physics_equilibrium_consistent" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate missing derived quantities for equilibrium IDS</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ods</strong> – ODS to update in-place</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">updated ods</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.physics_equilibrium_transpose_RZ">
<code class="descname">physics_equilibrium_transpose_RZ</code><span class="sig-paren">(</span><em>flip_dims=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.physics_equilibrium_transpose_RZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose 2D grid values for RZ grids under equilibrium.time_slice.:.profiles_2d.:.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – ODS to update in-place</li>
<li><strong>flip_dims</strong> – whether to switch the equilibrium.time_slice.:.profiles_2d.:.grid.dim1 and dim1</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">updated ods</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.physics_wall_add">
<code class="descname">physics_wall_add</code><span class="sig-paren">(</span><em>machine=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.physics_wall_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add wall information to the ODS</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – ODS to update in-place</li>
<li><strong>machine</strong> – machine of which to load the wall (if None it is taken from ods[‘dataset_description.data_entry.machine’])</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_bolometer_overlay">
<code class="descname">plot_bolometer_overlay</code><span class="sig-paren">(</span><em>ax=None</em>, <em>reset_fan_color=True</em>, <em>colors=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_bolometer_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays bolometer chords</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – ODS instance</li>
<li><strong>ax</strong> – axes instance into which to plot (default: gca())</li>
<li><strong>reset_fan_color</strong> – bool
At the start of each bolometer fan (group of channels), set color to None to let a new one be picked by the
cycler. This will override manually specified color.</li>
<li><strong>colors</strong> – list of matplotlib color specifications. Do not use a single RGBA style spec.</li>
<li><strong>**kw</strong> – <p>Additional keywords for bolometer plot</p>
<ul>
<li>Accepts standard omas_plot overlay keywords: mask, labelevery, notesize</li>
<li>Remaining keywords are passed to plot call for drawing markers at the gas locations.</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_charge_exchange_overlay">
<code class="descname">plot_charge_exchange_overlay</code><span class="sig-paren">(</span><em>ax=None</em>, <em>which_pos=u'closest'</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_charge_exchange_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays Charge Exchange Recombination (CER) spectroscopy channel locations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – OMAS ODS instance</li>
<li><strong>ax</strong> – axes instance into which to plot (default: gca())</li>
<li><strong>which_pos</strong> – <p>string
‘all’: plot all valid positions this channel uses. This can vary in time depending on which beams are on.</p>
<dl class="docutils">
<dt>’closest’: for each channel, pick the time slice with valid data closest to the time used for the</dt>
<dd>equilibrium contours and show position at this time. Falls back to all if equilibrium time cannot be
read from time_slice 0 of equilibrium in the ODS.</dd>
</dl>
</li>
<li><strong>**kw</strong> – <p>Additional keywords for CER plot:</p>
<p>color_tangential: color to use for tangentially-viewing channels</p>
<p>color_vertical: color to use for vertically-viewing channels</p>
<p>color_radial: color to use for radially-viewing channels</p>
<p>marker_tangential, marker_vertical, marker_radial: plot symbols to use for T, V, R viewing channels</p>
<ul>
<li>Accepts standard omas_plot overlay keywords: mask, labelevery, notesize</li>
<li>Remaining keywords are passed to plot call</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_core_profiles_pressures">
<code class="descname">plot_core_profiles_pressures</code><span class="sig-paren">(</span><em>time_index=0</em>, <em>ax=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_core_profiles_pressures" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot pressures in <cite>ods[‘core_profiles’][‘profiles_1d’][time_index]</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – input ods</li>
<li><strong>time_index</strong> – time slice to plot</li>
<li><strong>ax</strong> – axes to plot in (active axes is generated if <cite>ax is None</cite>)</li>
<li><strong>kw</strong> – arguments passed to matplotlib plot statements</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">axes handler</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_core_profiles_summary">
<code class="descname">plot_core_profiles_summary</code><span class="sig-paren">(</span><em>time_index=0</em>, <em>fig=None</em>, <em>combine_dens_temps=True</em>, <em>show_thermal_fast_breakdown=True</em>, <em>show_total_density=True</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_core_profiles_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot densities and temperature profiles for electrons and all ion species
as per <cite>ods[‘core_profiles’][‘profiles_1d’][time_index]</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – input ods</li>
<li><strong>time_index</strong> – time slice to plot</li>
<li><strong>fig</strong> – figure to plot in (a new figure is generated if <cite>fig is None</cite>)</li>
<li><strong>combine_dens_temps</strong> – combine species plot of density and temperatures</li>
<li><strong>show_thermal_fast_breakdown</strong> – bool
Show thermal and fast components of density in addition to total if available</li>
<li><strong>show_total_density</strong> – bool
Show total thermal+fast in addition to thermal/fast breakdown if available</li>
<li><strong>kw</strong> – arguments passed to matplotlib plot statements</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">figure handler</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_equilibrium_CX">
<code class="descname">plot_equilibrium_CX</code><span class="sig-paren">(</span><em>time_index=0</em>, <em>levels=array([0.1</em>, <em>0.2</em>, <em>0.3</em>, <em>0.4</em>, <em>0.5</em>, <em>0.6</em>, <em>0.7</em>, <em>0.8</em>, <em>0.9</em>, <em>1.</em>, <em>1.1</em>, <em>1.2</em>, <em>1.3</em>, <em>1.4</em>, <em>1.5</em>, <em>1.6</em>, <em>1.7</em>, <em>1.8</em>, <em>1.9</em>, <em>2.</em>, <em>2.1</em>, <em>2.2</em>, <em>2.3</em>, <em>2.4</em>, <em>2.5</em>, <em>2.6</em>, <em>2.7</em>, <em>2.8</em>, <em>2.9</em>, <em>3.</em>, <em>3.1</em>, <em>3.2</em>, <em>3.3</em>, <em>3.4</em>, <em>3.5</em>, <em>3.6</em>, <em>3.7</em>, <em>3.8</em>, <em>3.9</em>, <em>4.</em>, <em>4.1</em>, <em>4.2</em>, <em>4.3</em>, <em>4.4</em>, <em>4.5</em>, <em>4.6</em>, <em>4.7</em>, <em>4.8</em>, <em>4.9</em>, <em>5.</em>, <em>5.1</em>, <em>5.2</em>, <em>5.3</em>, <em>5.4</em>, <em>5.5</em>, <em>5.6</em>, <em>5.7</em>, <em>5.8</em>, <em>5.9</em>, <em>6.</em>, <em>6.1</em>, <em>6.2</em>, <em>6.3</em>, <em>6.4</em>, <em>6.5</em>, <em>6.6</em>, <em>6.7</em>, <em>6.8</em>, <em>6.9</em>, <em>7.</em>, <em>7.1</em>, <em>7.2</em>, <em>7.3</em>, <em>7.4</em>, <em>7.5</em>, <em>7.6</em>, <em>7.7</em>, <em>7.8</em>, <em>7.9</em>, <em>8.</em>, <em>8.1</em>, <em>8.2</em>, <em>8.3</em>, <em>8.4</em>, <em>8.5</em>, <em>8.6</em>, <em>8.7</em>, <em>8.8</em>, <em>8.9</em>, <em>9.</em>, <em>9.1</em>, <em>9.2</em>, <em>9.3</em>, <em>9.4</em>, <em>9.5</em>, <em>9.6</em>, <em>9.7</em>, <em>9.8</em>, <em>9.9])</em>, <em>ax=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_equilibrium_CX" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot equilibrium cross-section
as per <cite>ods[‘equilibrium’][‘time_slice’][time_index]</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – input ods</li>
<li><strong>time_index</strong> – time slice to plot</li>
<li><strong>levels</strong> – list of sorted numeric values to pass to 2D plot as contour levels</li>
<li><strong>ax</strong> – axes to plot in (active axes is generated if <cite>ax is None</cite>)</li>
<li><strong>kw</strong> – arguments passed to matplotlib plot statements</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">axes</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_equilibrium_summary">
<code class="descname">plot_equilibrium_summary</code><span class="sig-paren">(</span><em>time_index=0</em>, <em>fig=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_equilibrium_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot equilibrium cross-section and P, q, P’, FF’ profiles
as per <cite>ods[‘equilibrium’][‘time_slice’][time_index]</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – input ods</li>
<li><strong>time_index</strong> – time slice to plot</li>
<li><strong>fig</strong> – figure to plot in (a new figure is generated if <cite>fig is None</cite>)</li>
<li><strong>kw</strong> – arguments passed to matplotlib plot statements</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">figure handler</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_gas_injection_overlay">
<code class="descname">plot_gas_injection_overlay</code><span class="sig-paren">(</span><em>ax=None</em>, <em>angle_not_in_pipe_name=False</em>, <em>which_gas=u'all'</em>, <em>simple_labels=False</em>, <em>label_spacer=0</em>, <em>colors=None</em>, <em>draw_arrow=True</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_gas_injection_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots overlays of gas injectors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – OMAS ODS instance</li>
<li><strong>ax</strong> – axes instance into which to plot (default: gca())</li>
<li><strong>angle_not_in_pipe_name</strong> – bool
Set this to include (Angle) at the end of injector labels. Useful if injector/pipe names don’t already include
angles in them.</li>
<li><strong>which_gas</strong> – <p>string or list
Filter for selecting which gas valves to display.</p>
<ul>
<li>If string: get a preset group, like ‘all’.</li>
<li>If list: only valves in the list will be shown. Abbreviations are tolerated; e.g. GASA is recognized as
GASA_300. One abbreviation can turn on several valves. There are several valve names starting with
<a href="#id1"><span class="problematic" id="id2">RF_</span></a> on DIII-D, for example.</li>
</ul>
</li>
<li><strong>simple_labels</strong> – bool
Simplify labels by removing suffix after the last underscore.</li>
<li><strong>label_spacer</strong> – int
Number of blank lines and spaces to insert between labels and symbol</li>
<li><strong>colors</strong> – list of matplotlib color specifications.
These colors control the display of various gas ports. The list will be repeated to make sure it is long enough.
Do not specify a single RGB tuple by itself. However, a single tuple inside list is okay [(0.9, 0, 0, 0.9)].
If the color keyword is used (See **kw), then color will be popped to set the default for colors in case colors
is None.</li>
<li><strong>draw_arrow</strong> – bool or dict
Draw an arrow toward the machine at the location of the gas valve. If dict, pass keywords to arrow drawing func.</li>
<li><strong>**kw</strong> – <p>Additional keywords for gas plot:</p>
<ul>
<li>Accepts standard omas_plot overlay keywords: mask, labelevery, notesize</li>
<li>Remaining keywords are passed to plot call for drawing markers at the gas locations.</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_interferometer_overlay">
<code class="descname">plot_interferometer_overlay</code><span class="sig-paren">(</span><em>ax=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_interferometer_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots overlays of interferometer chords.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – OMAS ODS instance</li>
<li><strong>ax</strong> – axes instance into which to plot (default: gca())</li>
<li><strong>**kw</strong> – <p>Additional keywords</p>
<ul>
<li>Accepts standard omas_plot overlay keywords: mask, labelevery, notesize</li>
<li>Remaining keywords are passed to plot call</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_magnetics_overlay">
<code class="descname">plot_magnetics_overlay</code><span class="sig-paren">(</span><em>ax=None</em>, <em>show_bpol_probe=True</em>, <em>show_flux_loop=True</em>, <em>bpol_probe_color=None</em>, <em>flux_loop_color=None</em>, <em>bpol_probe_marker=u's'</em>, <em>flux_loop_marker=u'o'</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_magnetics_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots overlays of magnetics: B_pol probes and flux loops</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – OMAS ODS instance</li>
<li><strong>ax</strong> – axes instance into which to plot (default: gca())</li>
<li><strong>show_bpol_probe</strong> – bool
Turn display of B_pol probes on/off</li>
<li><strong>show_flux_loop</strong> – bool
Turn display of flux loops on/off</li>
<li><strong>bpol_probe_color</strong> – matplotlib color specification for B_pol probes</li>
<li><strong>flux_loop_color</strong> – matplotlib color specification for flux loops</li>
<li><strong>bpol_probe_marker</strong> – matplotlib marker specification for B_pol probes</li>
<li><strong>flux_loop_marker</strong> – matplotlib marker specification for flux loops</li>
<li><strong>**kw</strong> – <p>Additional keywords</p>
<ul>
<li>Accepts standard omas_plot overlay keywords: mask, labelevery, notesize</li>
<li>Remaining keywords are passed to plot call</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_overlay">
<code class="descname">plot_overlay</code><span class="sig-paren">(</span><em>ax=None</em>, <em>allow_autoscale=True</em>, <em>debug_all_plots=False</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots overlays of hardware/diagnostic locations on a tokamak cross section plot</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – OMAS ODS instance</li>
<li><strong>ax</strong> – axes instance into which to plot (default: gca())</li>
<li><strong>allow_autoscale</strong> – bool
Certain overlays will be allowed to unlock xlim and ylim, assuming that they have been locked by equilibrium_CX.
If this option is disabled, then hardware systems like PF-coils will be off the plot and mostly invisible.</li>
<li><strong>debug_all_plots</strong> – bool
Individual hardware systems are on by default instead of off by default.</li>
<li><strong>**kw</strong> – <p>additional keywords for selecting plots.</p>
<ul>
<li>Select plots by setting their names to True; e.g.: if you want the gas_injection plot, set gas_injection=True
as a keyword.
If debug_all_plots is True, then you can turn off individual plots by, for example, set_gas_injection=False.</li>
<li>Instead of True to simply turn on an overlay, you can pass a dict of keywords to pass to a particular overlay
method, as in thomson={‘labelevery’: 5}. After an overlay pops off its keywords, remaining keywords are passed
to plot, so you can set linestyle, color, etc.</li>
<li><dl class="first docutils">
<dt>Overlay functions accept these standard keywords:</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>mask: bool array</dt>
<dd>Set of flags for switching plot elements on/off. Must be equal to the number of channels or items to be
plotted.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>labelevery: int</dt>
<dd>Sets how often to add labels to the plot. A setting of 0 disables labels, 1 labels every element,
2 labels every other element, 3 labels every third element, etc.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>notesize: matplotlib font size specification</dt>
<dd>Applies to annotations drawn on the plot. Examples: ‘xx-small’, ‘medium’, 16</dd>
</dl>
</li>
<li>Additional keywords are passed to the function that does the drawing; usually matplotlib.axes.Axes.plot().</li>
</ul>
</dd>
</dl>
</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_pf_active_overlay">
<code class="descname">plot_pf_active_overlay</code><span class="sig-paren">(</span><em>ax=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_pf_active_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots overlays of active PF coils.
INCOMPLETE: only the oblique geometry definition is treated so far. More should be added later.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – OMAS ODS instance</li>
<li><strong>ax</strong> – axes instance into which to plot (default: gca())</li>
<li><strong>**kw</strong> – <p>Additional keywords
scalex, scaley: passed to ax.autoscale_view() call at the end</p>
<ul>
<li>Accepts standard omas_plot overlay keywords: mask, labelevery, notesize</li>
<li><dl class="first docutils">
<dt>Remaining keywords are passed to matplotlib.patches.Polygon call</dt>
<dd>Hint: you may want to set facecolor instead of just color</dd>
</dl>
</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_quantity">
<code class="descname">plot_quantity</code><span class="sig-paren">(</span><em>key</em>, <em>yname=None</em>, <em>xname=None</em>, <em>yunits=None</em>, <em>xunits=None</em>, <em>ylabel=None</em>, <em>xlabel=None</em>, <em>label=None</em>, <em>xnorm=1.0</em>, <em>ynorm=1.0</em>, <em>ax=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_quantity" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides convenient way to plot 1D quantities in ODS</p>
<dl class="docutils">
<dt>For example:</dt>
<dd><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ods</span><span class="o">.</span><span class="n">plot_quantity</span><span class="p">(</span><span class="s1">&#39;@core.*elec.*dens&#39;</span><span class="p">,</span> <span class="s1">&#39;$n_e$&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ods</span><span class="o">.</span><span class="n">plot_quantity</span><span class="p">(</span><span class="s1">&#39;@core.*ion.0.*dens.*th&#39;</span><span class="p">,</span> <span class="s1">&#39;$n_D$&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ods</span><span class="o">.</span><span class="n">plot_quantity</span><span class="p">(</span><span class="s1">&#39;@core.*ion.1.*dens.*th&#39;</span><span class="p">,</span> <span class="s1">&#39;$n_C$&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – ODS instance</li>
<li><strong>key</strong> – ODS location or search pattern</li>
<li><strong>yname</strong> – name of the y quantity</li>
<li><strong>xname</strong> – name of the x quantity</li>
<li><strong>yunits</strong> – units of the y quantity</li>
<li><strong>xunits</strong> – units of the x quantity</li>
<li><strong>ylabel</strong> – plot ylabel</li>
<li><strong>xlabel</strong> – plot xlabel</li>
<li><strong>ynorm</strong> – normalization factor for y</li>
<li><strong>xnorm</strong> – normalization factor for x</li>
<li><strong>label</strong> – label for the legend</li>
<li><strong>ax</strong> – axes instance into which to plot (default: gca())</li>
<li><strong>**kw</strong> – extra arguments are passed to the plot function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">axes instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_summary">
<code class="descname">plot_summary</code><span class="sig-paren">(</span><em>fig=None</em>, <em>quantity=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot summary time traces. Internally makes use of plot_quantity method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – input ods</li>
<li><strong>fig</strong> – figure to plot in (a new figure is generated if <cite>fig is None</cite>)</li>
<li><strong>quantity</strong> – if None plot all time-dependent global_quantities. Else a list of strings with global quantities to plot</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">figure handler</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.plot_thomson_scattering_overlay">
<code class="descname">plot_thomson_scattering_overlay</code><span class="sig-paren">(</span><em>ax=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.plot_thomson_scattering_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays Thomson channel locations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ods</strong> – OMAS ODS instance</li>
<li><strong>ax</strong> – axes instance into which to plot (default: gca())</li>
<li><strong>**kw</strong> – <p>Additional keywords for Thomson plot:</p>
<ul>
<li>Accepts standard omas_plot overlay keywords: mask, labelevery, notesize</li>
<li>Remaining keywords are passed to plot call</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.pretty_paths">
<code class="descname">pretty_paths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.pretty_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.pretty_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Traverse the ods and return paths that have data formatted nicely</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of paths that have data formatted nicely</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.prune"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Prune ODS branches that are leafless</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">number of branches that were pruned</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.sample_bolometer">
<code class="descname">sample_bolometer</code><span class="sig-paren">(</span><em>nc=10</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.sample_bolometer" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds some FAKE bolometer chord locations so that the overlay plot will work in tests. It’s fine to test
with dummy data as long as you know it’s not real.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – ODS instance</li>
<li><strong>nc</strong> – 10  # Number of fake channels to make up for testing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ODS instance with FAKE BOLOMETER HARDWARE INFORMATION added.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.sample_charge_exchange">
<code class="descname">sample_charge_exchange</code><span class="sig-paren">(</span><em>nc=10</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.sample_charge_exchange" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds some FAKE CER channel locations so that the overlay plot will work in tests. It’s fine to test
with dummy data as long as you know it’s not real. This function can overwrite existing data if you’re not careful.
The original is modified, so deepcopy first if you want different ODSs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – ODS instance</li>
<li><strong>nc</strong> – Number of channels to add.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ODS instance with FAKE CER HARDWARE INFORMATION added.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.sample_core_profiles">
<code class="descname">sample_core_profiles</code><span class="sig-paren">(</span><em>time_index=0</em>, <em>nx=11</em>, <em>add_junk_ion=False</em>, <em>include_pressure=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.sample_core_profiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Add sample core_profiles data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – ODS instance</li>
<li><strong>time_index</strong> – int</li>
<li><strong>nx</strong> – int
Number of points in test profiles</li>
<li><strong>add_junk_ion</strong> – bool
Flag for adding a junk ion for testing how well functions tolerate problems. This will be missing labels, etc.</li>
<li><strong>include_pressure</strong> – bool
Include pressure profiles when temperature and density are added</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ODS instance with profiles added.
Since the original is modified, it is not necessary to catch the return, but it may be convenient to do so in
some contexts. If you do not want the original to be modified, deepcopy it first.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.sample_equilibrium">
<code class="descname">sample_equilibrium</code><span class="sig-paren">(</span><em>time_index=0</em>, <em>include_profiles=True</em>, <em>include_phi=True</em>, <em>include_wall=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.sample_equilibrium" title="Permalink to this definition">¶</a></dt>
<dd><p>Add sample equilibrium data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – ODS instance</li>
<li><strong>time_index</strong> – int
Under which time index should fake equilibrium data be loaded?</li>
<li><strong>include_profiles</strong> – bool
Include 1D profiles of pressure, q, p’, FF’</li>
<li><strong>include_phi</strong> – bool
Include 1D and 2D profiles of phi (toroidal flux, for calculating rho)</li>
<li><strong>include_wall</strong> – bool
Include the first wall</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ODS instance with equilibrium data added
Since the original is modified, it is not necessary to catch the return, but it may be convenient to do so in
some contexts. If you do not want the original to be modified, deepcopy it first.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.sample_gas_injection">
<code class="descname">sample_gas_injection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.sample_gas_injection" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds some FAKE gas injection locations so that the overlay plot will work in tests. It’s fine to test
with dummy data as long as you know it’s not real. This function can overwrite existing data if you’re not careful.
The original is modified, so deepcopy first if you want different ODSs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ods</strong> – ODS instance</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">ODS instance with FAKE GAS INJECTION HARDWARE INFORMATION added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.sample_interferometer">
<code class="descname">sample_interferometer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.sample_interferometer" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds some FAKE interferometer locations so that the overlay plot will work in tests. It’s fine to test
with dummy data as long as you know it’s not real.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ods</strong> – ODS instance</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">ODS instance with FAKE INTERFEROMETER HARDWARE INFORMATION added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.sample_magnetics">
<code class="descname">sample_magnetics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.sample_magnetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds some FAKE magnetic probe locations so that the overlay plot will work in tests. It’s fine to test
with dummy data as long as you know it’s not real.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ods</strong> – ODS instance</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">ODS instance with FAKE MAGNETICS HARDWARE INFORMATION added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.sample_pf_active">
<code class="descname">sample_pf_active</code><span class="sig-paren">(</span><em>nc_weird=0</em>, <em>nc_undefined=0</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.sample_pf_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds some FAKE active PF coil locations so that the overlay plot will work in tests.
It’s fine to test with dummy data as long as you know it’s not real.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – ODS instance</li>
<li><strong>nc_weird</strong> – int
Number of coils with badly defined geometry to include for testing plot overlay robustness</li>
<li><strong>nc_undefined</strong> – int
Number of coils with undefined geometry_type (But valid r, z outlines) to include for testing plot overlay
robustness.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ODS instance with FAKE PF ACTIVE HARDWARE INFORMATION added.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.sample_thomson_scattering">
<code class="descname">sample_thomson_scattering</code><span class="sig-paren">(</span><em>nc=10</em><span class="sig-paren">)</span><a class="headerlink" href="#omas.ODS.sample_thomson_scattering" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds some FAKE Thomson scattering channel locations so that the overlay plot will work in tests. It’s fine to test
with dummy data as long as you know it’s not real.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ods</strong> – ODS instance</li>
<li><strong>nc</strong> – Number of channels to add.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ODS instance with FAKE THOMSON HARDWARE INFORMATION added.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.satisfy_imas_requirements">
<code class="descname">satisfy_imas_requirements</code><span class="sig-paren">(</span><em>attempt_fix=True</em>, <em>raise_errors=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.satisfy_imas_requirements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.satisfy_imas_requirements" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign .time and .ids_properties.homogeneous_time info for top-level structures
since these are required for writing an IDS to IMAS</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>attempt_fix</strong> – fix dataset_description and wall IDS to have 0 times if none is set</li>
<li><strong>raise_errors</strong> – raise errors if could not satisfy IMAS requirements</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>True</cite> if all is good, <cite>False</cite> if requirements are not satisfied, <cite>None</cite> if fixes were applied</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save OMAS data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> – filename.XXX where the extension is used to select save format method (eg. ‘pkl’,’nc’,’h5’,’ds’)
set to <cite>imas</cite>, <cite>s3</cite>, <cite>hdc</cite>, <cite>mongo</cite> for load methods that do not have a filename with extension</li>
<li><strong>*args</strong> – extra arguments passed to save_omas_XXX() method</li>
<li><strong>**kw</strong> – extra keywords passed to save_omas_XXX() method</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">return from save_omas_XXX() method</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.search_paths">
<code class="descname">search_paths</code><span class="sig-paren">(</span><em>search_pattern</em>, <em>n=None</em>, <em>regular_expression_startswith=u''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.search_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.search_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Find ODS locations that match a pattern</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>search_pattern</strong> – regular expression ODS location string</li>
<li><strong>n</strong> – raise an error if a numbe of occurrences different from n is found</li>
<li><strong>regular_expression_startswith</strong> – indicates that use of regular expressions
in the search_pattern is preceeded by certain characters.
This is used internally by some methods of the ODS to force users
to use ‘&#64;’ to indicate access to a path by regular expression.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of ODS locations matching search_pattern pattern</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.set_child_locations">
<code class="descname">set_child_locations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.set_child_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.set_child_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>traverse ODSs and set .location attribute</p>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.set_time_array">
<code class="descname">set_time_array</code><span class="sig-paren">(</span><em>key</em>, <em>time_index</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.set_time_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.set_time_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for setting time dependent arrays</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – ODS location to edit</li>
<li><strong>time_index</strong> – time index of the value to set</li>
<li><strong>value</strong> – value to set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">time dependent array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.setdefault">
<code class="descname">setdefault</code><span class="sig-paren">(</span><em>key</em>, <em>value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.setdefault"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Set value if key is not present</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – ods location</li>
<li><strong>value</strong> – value to set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">value</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.setraw">
<code class="descname">setraw</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.setraw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.setraw" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to assign data to an ODS with no processing of the key, and it is thus faster than the ODS.__setitem__(key, value)
Effectively behaves like a pure Python dictionary/list __setitem__.
This method is mostly meant to be used in the inner workings of the ODS class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – string or integer</li>
<li><strong>value</strong> – value to assign</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">value</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.slice_at_time">
<code class="descname">slice_at_time</code><span class="sig-paren">(</span><em>time=None</em>, <em>time_index=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.slice_at_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.slice_at_time" title="Permalink to this definition">¶</a></dt>
<dd><p>method for selecting a time slice from an time-dependent ODS (NOTE: this method operates in place)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>time</strong> – time value to select</li>
<li><strong>time_index</strong> – time index to select (NOTE: time_index has precedence over time)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">modified ODS</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.time">
<code class="descname">time</code><span class="sig-paren">(</span><em>key=u''</em>, <em>extra_info=None</em>, <em>skip=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the time information for a given ODS location</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> – ods location</li>
<li><strong>extra_info</strong> – dictionary that will be filled in place with extra information about time</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">time information for a given ODS location (scalar or array)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="omas.ODS.ulocation">
<code class="descname">ulocation</code><a class="headerlink" href="#omas.ODS.ulocation" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string with location of this object in universal ODS path format</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="omas.ODS.unitsio">
<code class="descname">unitsio</code><a class="headerlink" href="#omas.ODS.unitsio" title="Permalink to this definition">¶</a></dt>
<dd><p>property that if data should be returned with units or not</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">unitsio value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>ods2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds ods2’s key-values pairs to the ods</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ods2</strong> – dictionary or ODS to be added into the ODS</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="omas.ODS.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list of D's values<a class="reference internal" href="../_modules/omas/omas_core.html#ODS.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omas.ODS.xarray">
<code class="descname">xarray</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omas/omas_core.html#ODS.xarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omas.ODS.xarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data of an ODS location and correspondnig coordinates as an xarray dataset
Note that the Dataset and the DataArrays have their attributes set with the ODSs structure info</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – ODS location</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">xarray dataset</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2017-2019 O. Meneghini and collaborators.<br/>
      Last updated on Nov 19, 2019.<br/>
    </p>
  </div>
</footer>
  </body>
</html>